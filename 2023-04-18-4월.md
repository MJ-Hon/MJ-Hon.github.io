```python
%pip install bokeh
```

    Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
    Requirement already satisfied: bokeh in /usr/local/lib/python3.9/dist-packages (2.4.3)
    Requirement already satisfied: Jinja2>=2.9 in /usr/local/lib/python3.9/dist-packages (from bokeh) (3.1.2)
    Requirement already satisfied: pillow>=7.1.0 in /usr/local/lib/python3.9/dist-packages (from bokeh) (8.4.0)
    Requirement already satisfied: packaging>=16.8 in /usr/local/lib/python3.9/dist-packages (from bokeh) (23.0)
    Requirement already satisfied: typing-extensions>=3.10.0 in /usr/local/lib/python3.9/dist-packages (from bokeh) (4.5.0)
    Requirement already satisfied: numpy>=1.11.3 in /usr/local/lib/python3.9/dist-packages (from bokeh) (1.22.4)
    Requirement already satisfied: tornado>=5.1 in /usr/local/lib/python3.9/dist-packages (from bokeh) (6.2)
    Requirement already satisfied: PyYAML>=3.10 in /usr/local/lib/python3.9/dist-packages (from bokeh) (6.0)
    Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.9/dist-packages (from Jinja2>=2.9->bokeh) (2.1.2)



```python
import pandas as pd
sdg = pd.read_excel('https://docs.google.com/spreadsheets/d/e/2PACX-1vSheI7FJzY_d4HdGA-oNvCcqvG6-f9L99lkw46WQmSj2zzdYAsmWy7FmHJKJ-pujg/pub?output=xlsx')
sdg.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 22 entries, 0 to 21
    Data columns (total 69 columns):
     #   Column                             Non-Null Count  Dtype  
    ---  ------                             --------------  -----  
     0   Year                               22 non-null     int64  
     1   Year_sas                           21 non-null     float64
     2   K6_1_1                             17 non-null     float64
     3   K6_2_1a                            21 non-null     float64
     4   K6_3_1_유입하수량                       6 non-null      float64
     5   K6_3_1_폐수발생량                       4 non-null      float64
     6   6_3_2_전국                           2 non-null      float64
     7   6_3_2_개방수역                         2 non-null      float64
     8   6_3_2_RKD                          2 non-null      float64
     9   6_3_2_지하수                          2 non-null      float64
     10  6_4_1_농업                           19 non-null     float64
     11  6_4_1_공업                           19 non-null     float64
     12  6_4_1_서비스업                         19 non-null     float64
     13  6_4_1_기타(분류안됨)                     19 non-null     float64
     14  6_4_2                              19 non-null     float64
     15  6_5_1                              2 non-null      float64
     16  6_6_1                              21 non-null     float64
     17  7_1_1_전국                           20 non-null     float64
     18  7_1_1_농촌                           20 non-null     float64
     19  7_1_1_도시                           20 non-null     float64
     20  7_1_2                              20 non-null     float64
     21  7_2_1                              16 non-null     float64
     22  7_3_1                              21 non-null     float64
     23  7_b_1                              20 non-null     float64
     24  13_1_1_사망실종자                       14 non-null     float64
     25  13_1_1_직접영향인구                      14 non-null     float64
     26  13_1_2                             4 non-null      float64
     27  13_1_3                             4 non-null      float64
     28  13_2_2_전국                          20 non-null     float64
     29  13_2_2_CH₄                         20 non-null     float64
     30  13_2_2_CO₂                         20 non-null     float64
     31  13_2_2_HFCs                        20 non-null     float64
     32  13_2_2_N₂O                         20 non-null     float64
     33  13_2_2_PFCs                        20 non-null     float64
     34  13_2_2_SF6                         20 non-null     float64
     35  14_1_1                             13 non-null     float64
     36  14_4_1_전국(톤)                       21 non-null     float64
     37  14_4_1_원양어업(톤)                     21 non-null     float64
     38  14_4_1_내수면어업(톤)                    21 non-null     float64
     39  14_4_1_일반해면어업(톤)                   21 non-null     float64
     40  14_4_1_천해양식어업(톤)                   21 non-null     float64
     41  14_4_1_전국(천원)                      21 non-null     float64
     42  14_4_1원양어업(천원)                     21 non-null     float64
     43  14_4_1내수면어업(천원)                    21 non-null     float64
     44  14_4_1일반해면어업(천원)                   21 non-null     float64
     45  14_4_1천해양식어업(천원)                   21 non-null     float64
     46  14_5_1                             21 non-null     float64
     47  14_6_1                             1 non-null      float64
     48  14_a_1                             5 non-null      float64
     49  14_b_1                             1 non-null      float64
     50  14_c_1_(a)                         1 non-null      float64
     51  14_c_1_(b)                         1 non-null      float64
     52  15_1_1                             3 non-null      float64
     53  15_1_2_담수                          21 non-null     float64
     54  15_1_2_육상                          21 non-null     float64
     55  15_2_1_산림 내 지상부 바이오매스 총량(헥타르 당 톤)  8 non-null      float64
     56  15_2_1_산림면적 연간 순 변화율(%)            3 non-null      float64
     57  15_2_1_산림경영인증 면적                   9 non-null      float64
     58  15_2_1_장기산림경영계획에 포함된 산림면적 비율(%)    8 non-null      float64
     59  15_2_1_보호림 비율(%)                   8 non-null      float64
     60  15_4_1                             20 non-null     float64
     61  15_4_2                             4 non-null      float64
     62  15_5_1                             21 non-null     float64
     63  15_6_1                             10 non-null     float64
     64  15_8_1_법률구비여부                      3 non-null      float64
     65  15_8_1_목표9연계목표                     2 non-null      float64
     66  15_9_1                             1 non-null      float64
     67  15_a_1                             12 non-null     float64
     68  15_b_1                             12 non-null     float64
    dtypes: float64(68), int64(1)
    memory usage: 12.0 KB



```python
ncsd = pd.read_excel('https://docs.google.com/spreadsheets/d/e/2PACX-1vRYK8GLD42gFbXu1FZaL07cPkQ87ggC4kvzcJJ7K09v_31NkcelD6Mvf0ID3i6hTA/pub?output=xlsx')
ncsd.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 32 entries, 0 to 31
    Data columns (total 62 columns):
     #   Column          Non-Null Count  Dtype  
    ---  ------          --------------  -----  
     0   Year            32 non-null     int64  
     1   Year_sas        32 non-null     int64  
     2   SDG_6_1_1       1 non-null      float64
     3   SDG_6_1_2_전국    10 non-null     float64
     4   SDG_6_1_2_농어촌   10 non-null     float64
     5   SDG_6_1_2_전국a   10 non-null     float64
     6   SDG_6_1_2_농어촌a  10 non-null     float64
     7   SDG_6_2_1_도시    9 non-null      float64
     8   SDG_6_2_1_농촌    11 non-null     float64
     9   SDG_6_2_2_      1 non-null      float64
     10  SDG_6_3_2       2 non-null      float64
     11  SDG_6_3_3       14 non-null     float64
     12  SDG_6_4_1a      23 non-null     float64
     13  SDG_6_4_1b      23 non-null     float64
     14  SDG_6_4_2       2 non-null      float64
     15  SDG_6_4_3       9 non-null      float64
     16  SDG_6_5_1       1 non-null      float64
     17  SDG_6_5_2       1 non-null      float64
     18  SDG_6_5_3       12 non-null     float64
     19  SDG_6_6_1       1 non-null      float64
     20  SDG_7_1_1       6 non-null      float64
     21  SDG_7_2_1       20 non-null     float64
     22  SDG_7_2_2       31 non-null     float64
     23  SDG_7_3_1       1 non-null      float64
     24  SDG_7_4_1       8 non-null      float64
     25  SDG_7_4_2       24 non-null     float64
     26  SDG_13_1_1      4 non-null      float64
     27  SDG_13_3_1      1 non-null      float64
     28  SDG_13_4_1a     30 non-null     float64
     29  SDG_13_4_1b     30 non-null     float64
     30  SDG_14_1_1      1 non-null      float64
     31  SDG_14_1_2      5 non-null      float64
     32  SDG_14_2_1      1 non-null      float64
     33  SDG_14_2_2      13 non-null     float64
     34  SDG_14_3_1_동해   4 non-null      float64
     35  SDG_14_3_1_서해   4 non-null      float64
     36  SDG_14_3_1_남해   4 non-null      float64
     37  SDG_14_4_1_a    1 non-null      float64
     38  SDG_14_4_1      22 non-null     float64
     39  SDG_14_5_1      14 non-null     float64
     40  SDG_14_6_1      4 non-null      float64
     41  SDG_14_6_1a     23 non-null     float64
     42  SDG_14_7_1      1 non-null      float64
     43  SDG_14_7_2      1 non-null      float64
     44  SDG_14_7_3      1 non-null      float64
     45  SDG_14_8_1      1 non-null      float64
     46  SDG_15_1_1      1 non-null      float64
     47  SDG_15_1_2      1 non-null      float64
     48  SDG_15_2_1      1 non-null      float64
     49  SDG_15_4_1      4 non-null      float64
     50  SDG_15_4_2_동물   1 non-null      float64
     51  SDG_15_4_2_식물   1 non-null      float64
     52  SDG_15_4_3      1 non-null      float64
     53  SDG_15_4_4      1 non-null      float64
     54  SDG_15_4_5      1 non-null      float64
     55  SDG_15_5_1_a    9 non-null      float64
     56  SDG_15_5_1_b    9 non-null      float64
     57  SDG_15_5_2      1 non-null      float64
     58  SDG_15_6_1      5 non-null      float64
     59  SDG_15_6_2      32 non-null     int64  
     60  SDG_15_7_1      1 non-null      float64
     61  SDG_15_7_2      1 non-null      float64
    dtypes: float64(59), int64(3)
    memory usage: 15.6 KB



```python
from bokeh.io import show, output_notebook
from bokeh.plotting import figure, output_file, show
from bokeh.layouts import column
from bokeh.models import ColumnDataSource, CustomJS, HoverTool, RadioButtonGroup
import pandas as pd
output_notebook()
```


```python
source = ColumnDataSource(data={
    'x': sdg.Year,
    'y': sdg.K6_1_1
})

p = figure(width=600, height=300, x_axis_label="연도", y_axis_label="%", title="안전하게 관리되는 식수서비스를 이용하는 인구 비율(%)")
p.title.text_font_size = '15pt'

p.line(x='x', y='y', color='firebrick', source=source)

hover = HoverTool(tooltips=[("Year", "@x"), ("Value", "@y{0.00}%")])
p.add_tools(hover)

p.legend.location = "top_left"
p.legend.click_policy = "mute"
show(p)
```

    /usr/local/lib/python3.9/dist-packages/bokeh/models/plots.py:815: UserWarning: 
    You are attempting to set `plot.legend.location` on a plot that has zero legends added, this will have no effect.
    
    Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.
    
      warnings.warn(_LEGEND_EMPTY_WARNING % attr)
    /usr/local/lib/python3.9/dist-packages/bokeh/models/plots.py:815: UserWarning: 
    You are attempting to set `plot.legend.click_policy` on a plot that has zero legends added, this will have no effect.
    
    Before legend properties can be set, you must add a Legend explicitly, or call a glyph method with a legend parameter set.
    
      warnings.warn(_LEGEND_EMPTY_WARNING % attr)






<div class="bk-root" id="9bd6e4ae-c4ae-4b78-bbef-91bcf4122df1" data-root-id="3141"></div>






```python
# Create ColumnDataSources for each graph
source1 = ColumnDataSource(data={
    'x': ncsd.Year,
    'y': ncsd.SDG_6_1_2_전국,
    'label': ['전국'] * len(ncsd.Year)
})

source2 = ColumnDataSource(data={
    'x': ncsd.Year,
    'y': ncsd.SDG_6_1_2_농어촌,
    'label': ['농어촌'] * len(ncsd.Year)
})

source3 = ColumnDataSource(data={
    'x': ncsd.Year,
    'y': ncsd.SDG_6_1_2_전국a,
    'label': ['전국'] * len(ncsd.Year)
})

source4 = ColumnDataSource(data={
    'x': ncsd.Year,
    'y': ncsd.SDG_6_1_2_농어촌a,
    'label': ['농어촌'] * len(ncsd.Year)
})

# Create the initial figure
p = figure(width=600, height=300, x_axis_label="연도", y_axis_label="%", title="상수도 보급률")
p.title.text_font_size = '15pt'

# Add the initial lines and hover tool
line1 = p.line(x='x', y='y', legend_label='전국', color='firebrick', source=source1)
line2 = p.line(x='x', y='y', legend_label='농어촌', color='navy', source=source2)

line3 = p.line(x='x', y='y', legend_label='전국', color='firebrick', source=source3)
line4 = p.line(x='x', y='y', legend_label='농어촌', color='navy', source=source4)

hover = HoverTool(tooltips=[("Year", "@x"), ("Value", "@y{0.00}%"), ("Label", "@label")])
p.add_tools(hover)

p.legend.location = "top_left"
p.legend.click_policy = "mute"

# Create the RadioButtonGroup
radio_button_group = RadioButtonGroup(labels=["상수도 보급률", "지방 광역상수도 이용 급수 보급률"], active=0)

# Define the callback
callback = CustomJS(args=dict(line1=line1, line2=line2, line3=line3, line4=line4, source1=source1, source2=source2, source3=source3, source4=source4), code="""
    const selected = cb_obj.active;
    if (selected == 0) {
        line1.visible = true;
        line2.visible = true;
        line3.visible = false;
        line4.visible = false;
        source1.visible = true;
        source2.visible = true;
        source3.visible = false;
        source4.visible = false;
    } else if (selected == 1) {
        line1.visible = false;
        line2.visible = false;
        line3.visible = true;
        line4.visible = true;
        source1.visible = false;
        source2.visible = false;      
        source3.visible = true;
        source4.visible = true;
    }
""")

# Attach the callback to the RadioButtonGroup
radio_button_group.js_on_change('active', callback)

# Display the plot and RadioButtonGroup
show(column(p, radio_button_group))
```





<div class="bk-root" id="c78bdcc2-4a04-4b8b-b8d9-a7061b841694" data-root-id="3362"></div>






```python

from bokeh.embed import file_html
from bokeh.resources import CDN

# Create ColumnDataSources and figure as in the previous code

# Create HTML file
html = file_html(p, CDN, "my_plot")

# Save HTML file to local drive
with open("my_plot.html", "w") as f:
    f.write(html)
```


```python

```
